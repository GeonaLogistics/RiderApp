{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\kawab\\\\Desktop\\\\expresslog\\\\src\\\\Screen\\\\BookingReqUp\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState } from \"react\";\nimport MapView, { Marker } from 'react-native-maps';\nimport PolylineDirection from '@react-native-maps/polyline-direction';\nimport styles from \"./style\";\nimport Color from \"../../Config/Color\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { NetInfo } from \"react-native-web/dist/index\";\nimport container from \"../../Styles/Container/style\";\nimport Back from \"../../Component/Back/index\";\nimport RideType from \"../../Component/RideType/index\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Connection from \"../Connection\";\nimport Spinner from 'react-native-loading-spinner-overlay';\n\nvar index = function (_Component) {\n  _inherits(index, _Component);\n\n  var _super = _createSuper(index);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _super.call(this, props);\n\n    _this.getData = function _callee() {\n      var durationa, distance, citydestination, real, elementsIndex, elementsIndext, newArray;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@duration'));\n\n            case 3:\n              durationa = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@distance'));\n\n            case 6:\n              distance = _context.sent;\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@CityNameDestination'));\n\n            case 9:\n              citydestination = _context.sent;\n              real = parseInt(distance);\n              prices = 100 + real * 25;\n              pricess = 100 + real * 50;\n\n              if (durationa !== null) {\n                elementsIndex = _this.state.data.findIndex(function (element) {\n                  return element.RideType == \"Bike\";\n                });\n                elementsIndext = _this.state.data.findIndex(function (element) {\n                  return element.RideType == \"Car\";\n                });\n                newArray = _toConsumableArray(_this.state.data);\n                newArray[elementsIndex] = _objectSpread(_objectSpread({}, newArray[elementsIndex]), {}, {\n                  Time: durationa,\n                  Price: 'NGN' + prices\n                });\n                newArray[elementsIndext] = _objectSpread(_objectSpread({}, newArray[elementsIndext]), {}, {\n                  Time: durationa,\n                  Price: 'NGN' + pricess\n                });\n\n                _this.setState({\n                  data: newArray,\n                  spinner: false,\n                  price: prices\n                }, function () {});\n\n                console.log(\"meeeee: \" + durationa);\n                console.log(\"City Name\" + citydestination);\n                console.log(\"Distance\" + distance);\n                console.log(\"Price\" + _this.state.price);\n              }\n\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"Error reading value\");\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 16]], Promise);\n    };\n\n    _this._storePrice = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@price', _this.state.price));\n\n            case 3:\n              console.log(\"successful\");\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(\"price is null\");\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    };\n\n    _this._keyExtractor = function (item, index) {\n      return item.RideType;\n    };\n\n    _this._renderItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(RideType, {\n        onPress: function onPress() {\n          return _this.props.navigation.navigate(\"Orders\", {\n            platitude: plats,\n            plongitude: plongs,\n            dlatitude: dlats,\n            dlongitude: dlongs,\n            deaddress: daddresss,\n            pestreet: pstreets,\n            Ride: item.RideType,\n            imagesource: item.Source,\n            Prices: item.price\n          });\n        },\n        Source: item.Source,\n        RideType: item.RideType,\n        Price: item.Price,\n        Time: item.Time,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 5\n        }\n      });\n    };\n\n    var _plats = \"\";\n    var _plongs = \"\";\n    var _dlats = \"\";\n    var _dlongs = \"\";\n    var _daddresss = \"\";\n    var _pstreets = \"\";\n    var _prices = 0;\n    var _pricess = 0;\n    _this.state = {\n      data: [{\n        Source: require(\"../../Image/bike.png\"),\n        RideType: \"Bike\",\n        Price: \"5000\",\n        Time: \"2 mins\"\n      }, {\n        Source: require(\"../../Image/just_go.png\"),\n        RideType: \"Car\",\n        Price: \"\",\n        Time: \"NAN\"\n      }, {\n        Source: require(\"../../Image/van.png\"),\n        RideType: \"Van\",\n        Price: \"\",\n        Time: \"NAN\"\n      }, {\n        Source: require(\"../../Image/lorry.png\"),\n        RideType: \"Truck\",\n        Price: \"\",\n        Time: \"NAN\"\n      }],\n      plat: \"\",\n      plong: \"\",\n      dlat: \"\",\n      dlong: \"\",\n      daddress: \"\",\n      pstreet: \"\",\n      duration: \"\",\n      spinner: true,\n      price: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              this.getData();\n\n              this._storePrice();\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      plats = this.props.navigation.state.params.platitude;\n      plongs = this.props.navigation.state.params.plongitude;\n      dlats = this.props.navigation.state.params.dlatitude;\n      dlongs = this.props.navigation.state.params.dlongitude;\n      daddresss = this.props.navigation.state.params.deaddress;\n      pstreets = this.props.navigation.state.params.pestreet;\n      var origin = {\n        latitude: plats,\n        longitude: plongs\n      };\n      var destination = {\n        latitude: dlats,\n        longitude: dlongs\n      };\n      return React.createElement(View, {\n        style: container.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 7\n        }\n      }, React.createElement(StatusBar, {\n        barStyle: \"dark-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }\n      }), React.createElement(Spinner, {\n        visible: this.state.spinner,\n        textContent: 'Loading...',\n        overlayColor: 'rgba(0, 0, 0, 0.8)',\n        textStyle: {\n          color: '#FFF'\n        },\n        cancelable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 9\n        }\n      }), React.createElement(MapView, {\n        provider: MapView.PROVIDER_GOOGLE,\n        style: {\n          flex: 1\n        },\n        initialRegion: {\n          latitude: plats,\n          longitude: plongs,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }, React.createElement(Marker, {\n        coordinate: {\n          latitude: plats,\n          longitude: plongs\n        },\n        title: \"Pick up\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          backgroundColor: '#fff',\n          fontWeight: 'bold',\n          padding: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }, \"Pick up\"), React.createElement(Image, {\n        source: require(\"../../Image/pin2.png\"),\n        style: {\n          width: 50,\n          height: 50,\n          alignSelf: \"center\",\n          resizeMode: \"contain\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }\n      })), React.createElement(Marker, {\n        coordinate: {\n          latitude: dlats,\n          longitude: dlongs\n        },\n        title: \"Drop Off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          backgroundColor: '#fff',\n          fontWeight: 'bold',\n          padding: 7\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }\n      }, \"Drop Off\"), React.createElement(Image, {\n        source: require(\"../../Image/pin.png\"),\n        style: {\n          width: 50,\n          height: 50,\n          alignSelf: \"center\",\n          resizeMode: \"contain\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }\n      })), React.createElement(PolylineDirection, {\n        origin: origin,\n        destination: destination,\n        apiKey: \"AIzaSyC7bi_TnkSCakWUI0pjTf6y_Ho3Pt2q4E0\",\n        strokeWidth: 4,\n        strokeColor: \"#12bc00\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }\n      })), React.createElement(Back, {\n        onPress: function onPress() {\n          return _this2.props.navigation.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.subContainerView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          margin: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../Image/up.png\"),\n        style: styles.image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 17\n        }\n      })), React.createElement(FlatList, {\n        data: this.state.data,\n        horizontal: false,\n        keyExtractor: this._keyExtractor,\n        renderItem: this._renderItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return index;\n}(Component);\n\nexport { index as default };","map":{"version":3,"sources":["C:/Users/kawab/Desktop/expresslog/src/Screen/BookingReqUp/index.js"],"names":["React","Component","useState","MapView","Marker","PolylineDirection","styles","Color","NetInfo","container","Back","RideType","AsyncStorage","Connection","Spinner","index","props","getData","getItem","durationa","distance","citydestination","real","parseInt","prices","pricess","elementsIndex","state","data","findIndex","element","elementsIndext","newArray","Time","Price","setState","spinner","price","console","log","_storePrice","setItem","_keyExtractor","item","_renderItem","navigation","navigate","platitude","plats","plongitude","plongs","dlatitude","dlats","dlongitude","dlongs","deaddress","daddresss","pestreet","pstreets","Ride","imagesource","Source","Prices","require","plat","plong","dlat","dlong","daddress","pstreet","duration","params","origin","latitude","longitude","destination","color","PROVIDER_GOOGLE","flex","latitudeDelta","longitudeDelta","backgroundColor","fontWeight","padding","width","height","alignSelf","resizeMode","goBack","subContainerView","margin","image"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport MapView, { Marker } from 'react-native-maps';\nimport PolylineDirection from '@react-native-maps/polyline-direction';\nimport styles from \"./style\";\nimport Color from \"../../Config/Color\";\nimport {\n  View,\n  StatusBar,\n  Image,\n  Text,\n  TouchableOpacity,\n  FlatList,\n  NetInfo\n} from \"react-native\";\nimport container from \"../../Styles/Container/style\";\nimport Back from \"../../Component/Back/index\";\nimport RideType from \"../../Component/RideType/index\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Connection from \"../Connection\";\nimport Spinner from 'react-native-loading-spinner-overlay';\n\n\n\n\n\nexport default class index extends Component {\n  constructor(props) {\n    super(props);\n    var plats = \"\"\n    var plongs = \"\"\n    var dlats = \"\"\n    var dlongs = \"\"\n    var daddresss = \"\"\n    var pstreets = \"\"\n    var prices = 0\n    var pricess = 0\n\n\n    //const [duration, setduratiom] = useState(\"\");\n\n\n    this.state = {\n      data: [\n        {\n          Source: require(\"../../Image/bike.png\"),\n          RideType: \"Bike\",\n          Price: \"5000\",\n          Time: \"2 mins\"\n\n        },\n        {\n          Source: require(\"../../Image/just_go.png\"),\n          RideType: \"Car\",\n          Price: \"\",\n          Time: \"NAN\",\n        },\n        {\n          Source: require(\"../../Image/van.png\"),\n          RideType: \"Van\",\n          Price: \"\",\n          Time: \"NAN\",\n        },\n        {\n          Source: require(\"../../Image/lorry.png\"),\n          RideType: \"Truck\",\n          Price: \"\",\n          Time: \"NAN\",\n        },\n\n\n      ],\n      plat: \"\",\n      plong: \"\",\n      dlat: \"\",\n      dlong: \"\",\n      daddress: \"\",\n      pstreet: \"\",\n      duration: \"\",\n      spinner: true,\n      price: \"\"\n\n\n    };\n\n  }\n\n\n\n\n  async componentDidMount() {\n\n\n    this.getData()\n    this._storePrice()\n  }\n\n\n\n  getData = async () => {\n    try {\n      const durationa = await AsyncStorage.getItem('@duration')\n\n      var distance = await AsyncStorage.getItem('@distance')\n\n      const citydestination = await AsyncStorage.getItem('@CityNameDestination')\n\n      var real = parseInt(distance);\n\n      prices = 100 + (real * 25)\n\n\n      pricess = 100 + (real * 50)\n\n\n\n\n\n      if (durationa !== null) {\n        // value previously stored\n\n\n        //this.setState({ data: [...data3.map(item => item.RideType === \"Bike\" ? { ...item, Time: durationa } : item)] })\n\n        const elementsIndex = this.state.data.findIndex(element => element.RideType == \"Bike\")\n        const elementsIndext = this.state.data.findIndex(element => element.RideType == \"Car\")\n        let newArray = [...this.state.data]\n        newArray[elementsIndex] = { ...newArray[elementsIndex], Time: durationa, Price: 'NGN' + prices }\n        newArray[elementsIndext] = { ...newArray[elementsIndext], Time: durationa, Price: 'NGN' + pricess }\n\n\n        this.setState({\n          data: newArray,\n          spinner: false,\n          price: prices\n        }, () => {\n\n\n\n        })\n\n\n\n        console.log(\"meeeee: \" + durationa)\n        console.log(\"City Name\" + citydestination)\n        console.log(\"Distance\" + distance)\n        console.log(\"Price\" + this.state.price)\n      }\n    } catch (e) {\n      // error reading value\n      console.log(\"Error reading value\")\n    }\n  }\n\n\n\n\n  _storePrice = async () => {\n    try {\n\n      await AsyncStorage.setItem(\n        '@price',\n        this.state.price\n\n      );\n      console.log(\"successful\")\n\n    }\n    catch (error) {\n      // Error saving data\n      console.log(\"price is null\")\n    }\n  };\n\n\n\n  _keyExtractor = (item, index) => item.RideType;\n\n  _renderItem = ({ item }) => (\n\n\n\n    <RideType\n\n      onPress={() => this.props.navigation.navigate(\"Orders\", { platitude: plats, plongitude: plongs, dlatitude: dlats, dlongitude: dlongs, deaddress: daddresss, pestreet: pstreets, Ride: item.RideType, imagesource: item.Source, Prices: item.price })}\n      Source={item.Source}\n      RideType={item.RideType}\n      Price={item.Price}\n      Time={item.Time}\n    />\n\n  );\n\n\n  render() {\n    plats = this.props.navigation.state.params.platitude\n    plongs = this.props.navigation.state.params.plongitude\n    dlats = this.props.navigation.state.params.dlatitude\n    dlongs = this.props.navigation.state.params.dlongitude\n    daddresss = this.props.navigation.state.params.deaddress\n    pstreets = this.props.navigation.state.params.pestreet\n\n    const origin = { latitude: plats, longitude: plongs };\n    const destination = { latitude: dlats, longitude: dlongs };\n\n\n    return (\n      // Main View\n      <View style={container.container}>\n        <StatusBar barStyle=\"dark-content\" />\n        <Spinner\n          visible={this.state.spinner}\n          textContent={'Loading...'}\n          overlayColor={'rgba(0, 0, 0, 0.8)'}\n          textStyle={{ color: '#FFF' }}\n          cancelable={false}\n\n        />\n        <MapView\n          provider={MapView.PROVIDER_GOOGLE}\n          style={{ flex: 1 }}\n          initialRegion={{\n            latitude: plats,\n            longitude: plongs,\n            latitudeDelta: 0.0922,\n            longitudeDelta: 0.0421\n          }}>\n\n          <Marker\n            coordinate={{\n              latitude: plats,\n              longitude: plongs\n            }}\n            title=\"Pick up\"\n          >\n            <Text style={{ backgroundColor: '#fff', fontWeight: 'bold', padding: 7 }}>Pick up</Text>\n            <Image\n              source={require(\"../../Image/pin2.png\")}\n              style={{\n                width: 50,\n                height: 50,\n                alignSelf: \"center\",\n                resizeMode: \"contain\"\n              }}\n            />\n          </Marker>\n          <Marker\n            coordinate={{\n              latitude: dlats,\n              longitude: dlongs\n            }}\n            title=\"Drop Off\"\n          >\n            <Text style={{ backgroundColor: '#fff', fontWeight: 'bold', padding: 7 }}>Drop Off</Text>\n            <Image\n              source={require(\"../../Image/pin.png\")}\n              style={{\n                width: 50,\n                height: 50,\n                alignSelf: \"center\",\n                resizeMode: \"contain\"\n              }}\n            />\n          </Marker>\n\n\n\n\n          <PolylineDirection\n            origin={origin}\n            destination={destination}\n            apiKey=\"AIzaSyC7bi_TnkSCakWUI0pjTf6y_Ho3Pt2q4E0\"\n            strokeWidth={4}\n            strokeColor=\"#12bc00\"\n          />\n\n        </MapView>\n\n        <Back onPress={() => this.props.navigation.goBack()} />\n        {/* sub view */}\n        <View style={styles.container}>\n          <View style={styles.subContainerView}>\n            <View style={{ margin: 15 }}>\n              <TouchableOpacity>\n                <Image\n                  source={require(\"../../Image/up.png\")}\n                  style={styles.image}\n                />\n              </TouchableOpacity>\n\n              <FlatList\n                data={this.state.data}\n                horizontal={false}\n                keyExtractor={this._keyExtractor}\n                renderItem={this._renderItem}\n              />\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}