{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\kawab\\\\Desktop\\\\expresslog\\\\src\\\\Screen\\\\Home\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport MapView from 'react-native-maps';\nimport styles from \"./style\";\nimport Color from \"../../Config/Color\";\nimport * as Location from 'expo-location';\nimport * as Permissions from 'expo-permissions';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Drawer, Icon, Col } from \"native-base\";\nimport SideBar from \"../../Screen/SideMenu/index\";\nimport Container from \"../../Styles/Container/style\";\nimport IconText from \"../../Component/Icon2Text/index\";\nimport Icons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Spinner from 'react-native-loading-spinner-overlay';\n\nvar index = function (_Component) {\n  _inherits(index, _Component);\n\n  var _super = _createSuper(index);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _super.call(this, props);\n\n    _this._storeData = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@CityName', _this.state.CityName));\n\n            case 3:\n              console.log('Pickup City ' + _this.state.cityName);\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"Error saving Data\");\n\n            case 9:\n              _context.prev = 9;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@PickUpState', _this.state.pickupState));\n\n            case 12:\n              console.log('Pickup State' + _this.state.pickupState);\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t1 = _context[\"catch\"](9);\n              console.log(\"Error saving Data\");\n\n            case 18:\n              _context.prev = 18;\n              _context.next = 21;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@PickUpAddress', _this.state.Address));\n\n            case 21:\n              console.log('Pickup Address' + _this.state.Address);\n              _context.next = 27;\n              break;\n\n            case 24:\n              _context.prev = 24;\n              _context.t2 = _context[\"catch\"](18);\n              console.log(\"Error saving Data\");\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 6], [9, 15], [18, 24]], Promise);\n    };\n\n    _this.getLocationAsync = function _callee2() {\n      var _await$Permissions$as, status, location;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as = _context2.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                _this.setState({\n                  errorMessage: 'Permission to access location was denied'\n                });\n              }\n\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({\n                accuracy: Location.Accuracy.BestForNavigation\n              }));\n\n            case 7:\n              location = _context2.sent;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getGeocodeAsync = function _callee3(location) {\n      var geocode;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync(location));\n\n            case 2:\n              geocode = _context3.sent;\n\n              _this.setState({\n                geocode: geocode\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      location: null,\n      spinner: true,\n      geocode: null,\n      errorMessage: \"\",\n      longitude: 0,\n      latitude: 0,\n      Address: null,\n      CityName: null,\n      pickupState: null,\n      region: {\n        latitude: 37.78825,\n        longitude: -122.4324,\n        latitudeDelta: 0.0922,\n        longitudeDelta: 0.0421\n      }\n    };\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              this.getCurrentLocation();\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getCurrentLocation\",\n    value: function getCurrentLocation() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function getCurrentLocation$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              navigator.geolocation.getCurrentPosition(function (position) {\n                console.log(parseFloat(position.coords.latitude));\n\n                _this2.setState({\n                  latitude: parseFloat(position.coords.latitude)\n                });\n\n                _this2.setState({\n                  longitude: parseFloat(position.coords.longitude)\n                });\n\n                var region = {\n                  latitude: parseFloat(position.coords.latitude),\n                  longitude: parseFloat(position.coords.longitude),\n                  latitudeDelta: 0.0922,\n                  longitudeDelta: 0.0421\n                };\n\n                _this2.setState({\n                  initialRegion: region,\n                  spinner: false\n                });\n\n                fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + _this2.state.latitude + ',' + _this2.state.longitude + '&key=AIzaSyC7bi_TnkSCakWUI0pjTf6y_Ho3Pt2q4E0').then(function (response) {\n                  return response.json();\n                }).then(function (responseJson) {\n                  _this2.setState({\n                    Address: responseJson.results[0].formatted_address\n                  });\n\n                  _this2.setState({\n                    pickupState: responseJson.results[0].address_components.filter(function (x) {\n                      return x.types.filter(function (t) {\n                        return t == 'administrative_area_level_1';\n                      }).length > 0;\n                    })[0].long_name\n                  });\n\n                  _this2.setState({\n                    CityName: responseJson.results[0].address_components[2].short_name\n                  });\n\n                  _this2._storeData();\n                }).catch(function (error) {\n                  _this2.setState({\n                    error: error.message\n                  });\n                });\n              }, function (error) {\n                return console.log(error);\n              }, {\n                enableHighAccuracy: true,\n                timeout: 20000,\n                maximumAge: 1000\n              });\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          location = _this$state.location,\n          geocode = _this$state.geocode,\n          errorMessage = _this$state.errorMessage;\n      return React.createElement(Drawer, {\n        ref: function ref(_ref) {\n          _this3.drawer = _ref;\n        },\n        content: React.createElement(SideBar, {\n          navigation: this.props.navigation,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 18\n          }\n        }),\n        onClose: function onClose() {\n          return _this3.drawer._root.close();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: Container.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }\n      }, React.createElement(StatusBar, {\n        barStyle: \"dark-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }\n      }), React.createElement(Spinner, {\n        visible: this.state.spinner,\n        textContent: 'Getting your location... Please wait',\n        overlayColor: 'rgba(0, 0, 0, 0.8)',\n        textStyle: {\n          color: '#FFF'\n        },\n        cancelable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }\n      }), React.createElement(MapView, {\n        provider: MapView.PROVIDER_GOOGLE,\n        style: {\n          flex: 1\n        },\n        zoomEnabled: true,\n        showsUserLocation: true,\n        initialRegion: this.state.initialRegion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        style: _objectSpread({\n          marginTop: 40,\n          position: \"absolute\",\n          flex: 1,\n          marginLeft: 15\n        }, Platform.select({\n          ios: {\n            zIndex: 9\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          position: \"absolute\"\n        },\n        onPress: function onPress() {\n          return _this3.drawer._root.open();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../Image/menu.png\"),\n        style: {\n          width: 55,\n          height: 55\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }\n      }))), React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.subContainerView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          margin: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('PickUp', {\n            platitude: _this3.state.latitude,\n            plongitude: _this3.state.longitude,\n            pstreet: _this3.state.Address\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }\n      }, React.createElement(IconText, {\n        Title: \"Pick-up\",\n        Address: this.state.Address ? this.state.Address : \"Searching...\",\n        source: require(\"../../Image/picupicon.png\"),\n        viewText: {\n          borderBottom: Color.frost,\n          borderBottomWidth: 0.2\n        },\n        addressText: {\n          marginBottom: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 19\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('HomeLetsGo', {\n            platitude: _this3.state.latitude,\n            plongitude: _this3.state.longitude,\n            pstreet: _this3.state.Address\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 17\n        }\n      }, React.createElement(IconText, {\n        Title: \"Drop-Off\",\n        Address: \"Click to Choose\",\n        source: require(\"../../Image/destination-icon.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 19\n        }\n      })))))));\n    }\n  }]);\n\n  return index;\n}(Component);\n\nexport { index as default };","map":{"version":3,"sources":["C:/Users/kawab/Desktop/expresslog/src/Screen/Home/index.js"],"names":["React","Component","MapView","styles","Color","Location","Permissions","Drawer","Icon","Col","SideBar","Container","IconText","Icons","AsyncStorage","Spinner","index","props","_storeData","setItem","state","CityName","console","log","cityName","pickupState","Address","getLocationAsync","askAsync","LOCATION","status","setState","errorMessage","getCurrentPositionAsync","accuracy","Accuracy","BestForNavigation","location","getGeocodeAsync","reverseGeocodeAsync","geocode","spinner","longitude","latitude","region","latitudeDelta","longitudeDelta","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","parseFloat","coords","initialRegion","fetch","then","response","json","responseJson","results","formatted_address","address_components","filter","x","types","t","length","long_name","short_name","catch","error","message","enableHighAccuracy","timeout","maximumAge","ref","drawer","navigation","_root","close","container","color","PROVIDER_GOOGLE","flex","marginTop","marginLeft","Platform","select","ios","zIndex","open","require","width","height","subContainerView","margin","navigate","platitude","plongitude","pstreet","borderBottom","frost","borderBottomWidth","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MapView from 'react-native-maps';\nimport styles from \"./style\";\nimport Color from \"../../Config/Color\";\nimport * as Location from 'expo-location';\nimport * as Permissions from 'expo-permissions';\n\n\nimport {\n  Image,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  StatusBar,\n  Dimensions,\n  Platform,\n  Alert\n} from \"react-native\";\nimport { Drawer, Icon, Col } from \"native-base\";\nimport SideBar from \"../../Screen/SideMenu/index\";\nimport Container from \"../../Styles/Container/style\";\nimport IconText from \"../../Component/Icon2Text/index\";\nimport Icons from \"react-native-vector-icons/MaterialCommunityIcons\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Spinner from 'react-native-loading-spinner-overlay';\n\n\n\n\nexport default class index extends Component {\n\n\n\n\n  constructor(props) {\n    super(props)\n\n\n    this.state = {\n      location: null,\n      spinner: true,\n      geocode: null,\n      errorMessage: \"\",\n      longitude: 0,\n      latitude: 0,\n      Address: null,\n      CityName: null,\n      pickupState: null,\n      region: {\n        latitude: 37.78825,\n        longitude: -122.4324,\n        latitudeDelta: 0.0922,\n        longitudeDelta: 0.0421\n      }\n    }\n  }\n\n  async componentDidMount() {\n    //this.getLocationAsync();\n    this.getCurrentLocation();\n\n  }\n\n\n\n\n  async getCurrentLocation() {\n    navigator.geolocation.getCurrentPosition(\n      position => {\n        console.log(parseFloat(position.coords.latitude))\n        this.setState({ latitude: parseFloat(position.coords.latitude) })\n        this.setState({ longitude: parseFloat(position.coords.longitude) })\n        let region = {\n          latitude: parseFloat(position.coords.latitude),\n          longitude: parseFloat(position.coords.longitude),\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421\n        };\n\n\n        this.setState({\n          initialRegion: region,\n          spinner: false\n        });\n\n        fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + this.state.latitude + ',' + this.state.longitude + '&key=AIzaSyC7bi_TnkSCakWUI0pjTf6y_Ho3Pt2q4E0')\n          .then((response) => response.json())\n          .then((responseJson) => {\n            this.setState({ Address: responseJson.results[0].formatted_address })\n\n            //console.log(responseJson.results[0].address_components.filter(x => x.types.filter(t => t == 'administrative_area_level_2').length > 0)[0].long_name)\n            this.setState({ pickupState: responseJson.results[0].address_components.filter(x => x.types.filter(t => t == 'administrative_area_level_1').length > 0)[0].long_name })\n            this.setState({ CityName: responseJson.results[0].address_components[2].short_name })\n            // console.log(responseJson.results[0].address_components[2].short_name)\n\n            this._storeData()\n\n          }).catch((error) => { // catch is called after then\n            this.setState({ error: error.message })\n          });\n      },\n      error => console.log(error),\n      {\n        enableHighAccuracy: true,\n        timeout: 20000,\n        maximumAge: 1000\n      }\n    );\n  }\n\n\n\n  _storeData = async () => {\n    try {\n      await AsyncStorage.setItem(\n        '@CityName',\n        this.state.CityName\n      );\n      console.log('Pickup City ' + this.state.cityName)\n    } catch (error) {\n      // Error saving data\n      console.log(\"Error saving Data\")\n    }\n\n    try {\n      await AsyncStorage.setItem(\n        '@PickUpState',\n        this.state.pickupState\n      );\n      console.log('Pickup State' + this.state.pickupState)\n    } catch (error) {\n      // Error saving data\n      console.log(\"Error saving Data\")\n    }\n\n\n\n    try {\n      await AsyncStorage.setItem(\n        '@PickUpAddress',\n        this.state.Address\n      );\n      console.log('Pickup Address' + this.state.Address)\n    } catch (error) {\n      // Error saving data\n      console.log(\"Error saving Data\")\n    }\n  };\n\n\n\n\n\n\n\n  getLocationAsync = async () => {\n    let { status } = await Permissions.askAsync(Permissions.LOCATION);\n    if (status !== 'granted') {\n      this.setState({\n        errorMessage: 'Permission to access location was denied',\n      });\n    }\n\n    let location = await Location.getCurrentPositionAsync({ accuracy: Location.Accuracy.BestForNavigation });\n\n    //const { latitude, longitude } = location.coords\n\n    //this.getGeocodeAsync({ latitude, longitude })\n    /*\n        let vlatitude = location.coords.latitude\n        let vlongitude = location.coords.longitude\n    \n        this.getGeocodeAsync({ vlatitude, vlongitude })\n        this.setState({ location: { latitude, longitude } });\n    \n        this.setState({ latitude: vlatitude })\n    \n        this.setState({ longitude: vlongitude })\n    \n    */\n\n\n\n\n\n  };\n\n\n\n\n\n  getGeocodeAsync = async (location) => {\n    let geocode = await Location.reverseGeocodeAsync(location)\n    this.setState({ geocode })\n  }\n\n  render() {\n\n\n\n    const { location, geocode, errorMessage } = this.state\n\n\n\n\n    return (\n\n      <Drawer\n        ref={ref => {\n          this.drawer = ref;\n        }}\n        content={<SideBar navigation={this.props.navigation} />}\n        onClose={() => this.drawer._root.close()}\n      >\n        <View style={Container.container}>\n          <StatusBar barStyle=\"dark-content\" />\n          <Spinner\n            visible={this.state.spinner}\n            textContent={'Getting your location... Please wait'}\n            overlayColor={'rgba(0, 0, 0, 0.8)'}\n            textStyle={{ color: '#FFF' }}\n            cancelable={false}\n\n          />\n          <MapView\n            provider={MapView.PROVIDER_GOOGLE}\n            style={{ flex: 1 }}\n            zoomEnabled={true}\n            showsUserLocation={true}\n            initialRegion={this.state.initialRegion}\n          />\n          <View\n            style={{\n              marginTop: 40,\n              position: \"absolute\",\n              flex: 1,\n              marginLeft: 15,\n              ...Platform.select({\n                ios: {\n                  zIndex: 9\n                }\n              })\n            }}\n          >\n            <TouchableOpacity\n              style={{\n                position: \"absolute\",\n              }}\n              onPress={() => this.drawer._root.open()}\n            >\n              <Image\n                source={require(\"../../Image/menu.png\")}\n                style={{\n                  width: 55,\n                  height: 55\n                }}\n              />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.container}>\n            <View style={styles.subContainerView}>\n              <View style={{ margin: 30 }}>\n\n\n                <TouchableOpacity\n                  onPress={() => this.props.navigation.navigate('PickUp', { platitude: this.state.latitude, plongitude: this.state.longitude, pstreet: this.state.Address })}\n\n                >\n                  <IconText\n                    Title=\"Pick-up\"\n                    Address={this.state.Address ? this.state.Address : \"Searching...\"}\n                    source={require(\"../../Image/picupicon.png\")}\n                    viewText={{\n                      borderBottom: Color.frost,\n                      borderBottomWidth: 0.2\n                    }}\n                    addressText={{ marginBottom: 10 }}\n                  />\n                </TouchableOpacity>\n                <TouchableOpacity\n                  onPress={() => this.props.navigation.navigate('HomeLetsGo', { platitude: this.state.latitude, plongitude: this.state.longitude, pstreet: this.state.Address })}\n                >\n\n\n                  <IconText\n                    Title=\"Drop-Off\"\n                    Address=\"Click to Choose\"\n                    source={require(\"../../Image/destination-icon.png\")}\n                  />\n                </TouchableOpacity>\n\n              </View>\n            </View>\n          </View>\n        </View>\n      </Drawer>\n    );\n  }\n}\n//Drawer.defaultProps.styles.mainOverlay.elevation = 0;\n"]},"metadata":{},"sourceType":"module"}